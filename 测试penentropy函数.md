# 测试pentropy函数

## 介绍

pentropy是matlab的函数。能够用于计算谱熵。

导入数据

```
shaped_data=reshape(data(1,20,1,:),[1,240])
```

![image-20200607151550772](C:\Users\QQ\AppData\Roaming\Typora\typora-user-images\image-20200607151550772.png)

建立时间表（pentropy的输入数据是时间表的格式，而不是普通数组的格式；输出数据也是如此，得想办法转化）。

```
time=seconds(linspace(0,1,240))
xt=timetable(time',shaped_data')
```

xt = 240×1 timetable 

|               |  Var1   |
| :-----------: | :-----: |
|     1 0秒     | -0.6339 |
| 2 0.0041841秒 | -1.0444 |
| 3 0.0083682秒 | -1.0085 |
| 4 0.012552秒  | -0.5168 |
| 5 0.016736秒  | 0.1005  |
| 6 0.020921秒  | 0.4052  |
| 7 0.025105秒  | 0.1841  |
| 8 0.029289秒  | -0.3746 |
| 9 0.033473秒  | -0.8087 |
| 10 0.037657秒 | -0.7266 |

计算谱熵	

```
entropy=pentropy(xt)
```

entropy = 28×1 timetable 

|              |   SE   |
| :----------: | :----: |
| 1 0.062762秒 | 0.8464 |
| 2 0.096234秒 | 0.8293 |
| 3 0.12971秒  | 0.8414 |
| 4 0.16318秒  | 0.8462 |
| 5 0.19665秒  | 0.8577 |
| 6 0.23013秒  | 0.8715 |
|  7 0.2636秒  | 0.8695 |
| 8 0.29707秒  | 0.8373 |
| 9 0.33054秒  | 0.8526 |
| 10 0.36402秒 | 0.8427 |

画图

```
stackedplot(entropy)
```

![img](file:///C:\Users\QQ\AppData\Local\Temp\ConnectorClipboard7712831454055703129/image15915141151390.png)